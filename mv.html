<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies | Evadion</title>
    
    <meta property="og:title" content="Movies | Evadion" />
    <meta property="og:type" content="v0.1.3" />
    <meta property="og:url" content="https://evadion.github.io/movies" />
    <meta property="og:image" content="https://evadion.github.io/logo/evadion.jpeg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="1200" />
    <meta property="og:description" content="✨Watch movies and shows on Evadion!" />
    <meta name="theme-color" content="#5a44ff">
    <meta name="orbit:card" content="/logo/evadion.jpeg">
    <meta property="twitter:image" content="https://evadion.github.io/logo/evadion.jpeg">
    
    <link rel="icon" href="/logo/evadion.jpeg" type="image/jpeg">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Helvetica+Neue&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        html {
            overflow-x: hidden;
            height: 100%;
        }

        body {
            width: 100%;
            min-height: 100vh;
            overflow-x: hidden;
            background: #0a0a14;
            color: #fff;
            position: relative;
        }

        /* Navigation Styles - Matching Your Apps Page */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 8%;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
            transition: all 0.3s ease;
            background-color: rgba(15, 15, 40, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(90, 68, 255, 0.2);
        }

        .nav-scrolled {
            padding: 1rem 8%;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            background-color: rgba(15, 15, 40, 0.95);
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 2rem;
            letter-spacing: 1px;
            background: linear-gradient(135deg, #fff, #5a44ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            text-decoration: none;
        }

        .logo img {
            height: 40px;
            width: 40px;
            margin-right: 0.75rem;
            border-radius: 50%;
            object-fit: contain;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            position: relative;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
            padding: 0.5rem 0;
        }

        .nav-links a:hover {
            color: #5a44ff;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: #5a44ff;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .cta-button {
            background: linear-gradient(135deg, #5a44ff, #7a64ff);
            color: white;
            border: none;
            padding: 0.8rem 1.6rem;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .cta-button i {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .cta-button:hover i {
            transform: translateX(3px);
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.8s ease;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(90, 68, 255, 0.3);
        }

        .cta-button:hover::before {
            transform: scale(15);
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(90, 68, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .social-link:hover {
            background: #5a44ff;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(90, 68, 255, 0.4);
        }

        .tooltip {
            position: absolute;
            background: rgba(10, 10, 20, 0.9);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 0.8rem;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 100;
            white-space: nowrap;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(90, 68, 255, 0.3);
        }

        .tooltip::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 10px;
            height: 10px;
            background: rgba(10, 10, 20, 0.9);
            border-top: 1px solid rgba(90, 68, 255, 0.3);
            border-left: 1px solid rgba(90, 68, 255, 0.3);
        }

        .has-tooltip {
            position: relative;
        }

        .has-tooltip:hover .tooltip {
            transform: translateX(-50%) scale(1);
            opacity: 1;
            bottom: -45px;
        }

        /* Main Content Styles */
        .content-wrapper {
            padding-top: 100px;
            min-height: 100vh;
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            height: 70vh;
            min-height: 500px;
            overflow: hidden;
            margin-bottom: 3rem;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #5a44ff, #0a0a14);
            z-index: -2;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 8%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero-title {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff, #5a44ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: rgba(255, 255, 255, 0.8);
            max-width: 600px;
        }

        .hero-search {
            display: flex;
            max-width: 600px;
            margin-bottom: 2rem;
        }

        .hero-search input {
            flex: 1;
            padding: 1rem 1.5rem;
            border-radius: 30px 0 0 30px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            font-size: 1rem;
            border: 1px solid rgba(90, 68, 255, 0.3);
            border-right: none;
            outline: none;
        }

        .hero-search input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .hero-search button {
            padding: 0 1.5rem;
            background: #5a44ff;
            color: white;
            border: none;
            border-radius: 0 30px 30px 0;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .hero-search button:hover {
            background: #7a64ff;
        }

        /* Movie Categories */
        .movie-categories {
            padding: 0 8%;
            max-width: 1400px;
            margin: 0 auto 3rem;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .category-title {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff, #5a44ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        .view-all {
            color: #5a44ff;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .view-all:hover {
            text-decoration: underline;
        }

        .movies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.5rem;
        }

        .movie-card {
            background: rgba(15, 15, 40, 0.7);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            border: 1px solid rgba(90, 68, 255, 0.2);
        }

        .movie-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(90, 68, 255, 0.2);
            border-color: #5a44ff;
        }

        .movie-poster {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
        }

        .movie-info {
            padding: 1rem;
        }

        .movie-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .movie-meta {
            display: flex;
            justify-content: space-between;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .movie-rating {
            color: #ffc107;
        }

        .movie-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0) 50%);
            opacity: 0;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 1rem;
        }

        .movie-card:hover .movie-overlay {
            opacity: 1;
        }

        .movie-overview {
            font-size: 0.9rem;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .movie-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(90, 68, 255, 0.8);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            background: white;
            color: #5a44ff;
            transform: scale(1.1);
        }

        /* Featured Movie Section */
        .featured-movie {
            position: relative;
            height: 80vh;
            min-height: 600px;
            margin-bottom: 3rem;
            overflow: hidden;
        }

        .featured-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
        }

        .featured-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(10, 10, 20, 0.9) 0%, rgba(10, 10, 20, 0.5) 100%);
            z-index: -1;
        }

        .featured-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 8%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .featured-title {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            color: white;
        }

        .featured-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .featured-rating {
            color: #ffc107;
        }

        .featured-description {
            max-width: 600px;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .featured-buttons {
            display: flex;
            gap: 1rem;
        }

        .watch-btn {
            padding: 0.8rem 2rem;
            background: #5a44ff;
            color: white;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .watch-btn:hover {
            background: #7a64ff;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(90, 68, 255, 0.3);
        }

        .info-btn {
            padding: 0.8rem 2rem;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .info-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

  
        .movie-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: rgba(15, 15, 40, 0.95);
            border-radius: 15px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow: auto;
            position: relative;
            border: 1px solid rgba(90, 68, 255, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(90, 68, 255, 0.5);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #5a44ff;
            transform: rotate(90deg);
        }

        .modal-header {
            position: relative;
            height: 300px;
            overflow: hidden;
        }

        .modal-backdrop {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(15, 15, 40, 0.95) 0%, rgba(15, 15, 40, 0) 50%);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: white;
        }

        .modal-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .modal-rating {
            color: #ffc107;
        }

        .modal-overview {
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .modal-cast {
            margin-bottom: 2rem;
        }

        .cast-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: white;
        }

        .cast-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
        }

        .cast-member {
            text-align: center;
        }

        .cast-photo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 0.5rem;
            border: 2px solid #5a44ff;
        }

        .cast-name {
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

     
        .loading {
            text-align: center;
            padding: 2rem;
            display: none;
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
            .hero-title, .featured-title {
                font-size: 2.5rem;
            }
            
            .movies-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero-section, .featured-movie {
                height: 60vh;
                min-height: 400px;
            }
            
            .hero-title, .featured-title {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .movies-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .modal-content {
                width: 95%;
            }
            
            .modal-title {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .hero-section, .featured-movie {
                height: 50vh;
                min-height: 300px;
            }
            
            .hero-title, .featured-title {
                font-size: 1.5rem;
            }
            
            .movies-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .modal-body {
                padding: 1.5rem;
            }
            
            .modal-title {
                font-size: 1.5rem;
            }
            
            .modal-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    
    <nav id="navbar">
        <a href="/" class="logo" style="text-decoration: none;">
            <img src="/logo/evadion.jpeg" alt="Evadion Logo"> Evadion
        </a>
        <div class="nav-links">
            <a class="nav-link has-tooltip" href="/engine">
                PROXY
                <span class="tooltip">Search engine</span>
            </a>
            <a href="/movies" class="nav-link has-tooltip">
                TV
                <span class="tooltip">Movies + Shows</span>
            </a>
            <a class="nav-link has-tooltip" href="/ai">
                AI
                <span class="tooltip">AI</span>
            </a>
            <a class="nav-link has-tooltip" href="/extras">
                Extras
                <span class="tooltip">Extras</span>
            </a>
        </div>
        <div class="nav-buttons">
            <a href="https://github.com/Evadion/evadion.github.io" class="social-link has-tooltip" target="_blank">
                <i class="bi bi-github"></i>
                <span class="tooltip">GitHub</span>
            </a>
            <a href="https://discord.com/invite/BJwdeHAsuR" class="social-link has-tooltip" target="_blank">
                <i class="bi bi-discord"></i>
                <span class="tooltip">Discord</span>
            </a>
            <a href="mailto:contact.mkykg@gmail.com" class="cta-button">
                Email
                <i class="bi bi-arrow-right"></i>
            </a>
        </div>
    </nav>

        <div class="content-wrapper">
      
        <section class="hero-section">
            <div class="hero-background"></div>
            <div class="hero-content">
                <h1 class="hero-title">Unlimited Movies & Shows</h1>
                <p class="hero-subtitle">Stream the latest blockbusters and timeless classics on Evadion</p>
                <div class="hero-search">
                    <input type="text" placeholder="Search for movies, shows...">
                    <button><i class="fas fa-search"></i></button>
                </div>
            </div>
        </section>

  
        <section class="featured-movie" id="featured-movie">
            <img src="" class="featured-backdrop" id="featured-backdrop">
            <div class="featured-overlay"></div>
            <div class="featured-content">
                <h1 class="featured-title" id="featured-title">Featured Title</h1>
                <div class="featured-meta">
                    <span id="featured-year">2023</span>
                    <span class="featured-rating" id="featured-rating">★ 8.5/10</span>
                    <span id="featured-runtime">120 min</span>
                </div>
                <p class="featured-description" id="featured-description">Loading featured movie description...</p>
                <div class="featured-buttons">
                    <button class="watch-btn" id="watch-btn">
                        <i class="fas fa-play"></i> Watch Now
                    </button>
                    <button class="info-btn" id="info-btn">
                        <i class="fas fa-info-circle"></i> More Info
                    </button>
                </div>
            </div>
        </section>

     
        <section class="movie-categories">
            <div class="category-header">
                <h2 class="category-title">Trending Now</h2>
                <a href="#" class="view-all">View All</a>
            </div>
            <div class="movies-grid" id="trending-movies">
             
            </div>
        </section>

        <section class="movie-categories">
            <div class="category-header">
                <h2 class="category-title">Popular on Evadion</h2>
                <a href="#" class="view-all">View All</a>
            </div>
            <div class="movies-grid" id="popular-movies">
 
            </div>
        </section>

        <section class="movie-categories">
            <div class="category-header">
                <h2 class="category-title">New Releases</h2>
                <a href="#" class="view-all">View All</a>
            </div>
            <div class="movies-grid" id="new-releases">
 
            </div>
        </section>

        <section class="movie-categories">
            <div class="category-header">
                <h2 class="category-title">Top Rated</h2>
                <a href="#" class="view-all">View All</a>
            </div>
            <div class="movies-grid" id="top-rated">

            </div>
        </section>

 
        <div class="loading" id="loading-indicator">
            <p>Loading movies...</p>
        </div>
    </div>

 
    <div class="movie-modal" id="movie-modal">
        <div class="modal-content">
            <button class="modal-close" id="modal-close">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header">
                <img src="" class="modal-backdrop" id="modal-backdrop">
            </div>
            <div class="modal-body">
                <h2 class="modal-title" id="modal-title">Movie Title</h2>
                <div class="modal-meta">
                    <span id="modal-year">2023</span>
                    <span class="modal-rating" id="modal-rating">★ 8.5/10</span>
                    <span id="modal-runtime">120 min</span>
                </div>
                <p class="modal-overview" id="modal-overview">Movie overview goes here...</p>
                
                <div class="modal-cast">
                    <h3 class="cast-title">Starring</h3>
                    <div class="cast-grid" id="cast-grid">
                        <!-- Cast members will be loaded here -->
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="watch-btn" id="modal-watch-btn">
                        <i class="fas fa-play"></i> Watch Now
                    </button>
                    <button class="info-btn" id="modal-add-btn">
                        <i class="fas fa-plus"></i> Add to List
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const apiKey = '00119ffd2d069c15532a335d74664364';
        let currentMovie = null;
        let myList = JSON.parse(localStorage.getItem('myList') || '[]');

        // DOM Elements
        const loadingIndicator = document.getElementById('loading-indicator');
        const movieModal = document.getElementById('movie-modal');
        const modalClose = document.getElementById('modal-close');
        const modalWatchBtn = document.getElementById('modal-watch-btn');
        const modalAddBtn = document.getElementById('modal-add-btn');
        const featuredMovieSection = document.getElementById('featured-movie');
        const watchBtn = document.getElementById('watch-btn');
        const infoBtn = document.getElementById('info-btn');

        // Fetch featured movie
        async function fetchFeaturedMovie() {
            try {
                const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&page=1`;
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.results && data.results.length > 0) {
                    const movies = data.results.filter(movie => movie.backdrop_path);
                    if (movies.length > 0) {
                        const randomMovie = movies[Math.floor(Math.random() * movies.length)];
                        displayFeaturedMovie(randomMovie);
                    }
                }
            } catch (error) {
                console.error('Error fetching featured movie:', error);
            }
        }

 
        function displayFeaturedMovie(movie) {
            currentMovie = movie;
            
            document.getElementById('featured-backdrop').src = `https://image.tmdb.org/t/p/original/${movie.backdrop_path}`;
            document.getElementById('featured-title').textContent = movie.title;
            document.getElementById('featured-year').textContent = movie.release_date ? new Date(movie.release_date).getFullYear() : 'N/A';
            document.getElementById('featured-rating').textContent = `★ ${movie.vote_average ? movie.vote_average.toFixed(1) : 'N/A'}/10`;
            document.getElementById('featured-description').textContent = movie.overview || 'No description available';
            
 
        }

 
        async function fetchMovies(category, elementId) {
            loadingIndicator.style.display = 'block';
            let url = '';
            
            switch(category) {
                case 'trending':
                    url = `https://api.themoviedb.org/3/trending/movie/week?api_key=${apiKey}`;
                    break;
                case 'popular':
                    url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}`;
                    break;
                case 'new':
                    const currentDate = new Date();
                    const oneMonthAgo = new Date();
                    oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
                    const fromDate = oneMonthAgo.toISOString().split('T')[0];
                    const toDate = currentDate.toISOString().split('T')[0];
                    url = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&primary_release_date.gte=${fromDate}&primary_release_date.lte=${toDate}&sort_by=popularity.desc`;
                    break;
                case 'top':
                    url = `https://api.themoviedb.org/3/movie/top_rated?api_key=${apiKey}`;
                    break;
                default:
                    url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}`;
            }
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.results && data.results.length > 0) {
                    displayMovies(data.results.slice(0, 8), elementId);
                }
            } catch (error) {
                console.error(`Error fetching ${category} movies:`, error);
            } finally {
                loadingIndicator.style.display = 'none';
            }
        }

 
        function displayMovies(movies, elementId) {
            const grid = document.getElementById(elementId);
            grid.innerHTML = '';
            
            movies.forEach(movie => {
                const movieCard = document.createElement('div');
                movieCard.className = 'movie-card';
                movieCard.dataset.movieId = movie.id;
                
                movieCard.innerHTML = `
                    <img src="https://image.tmdb.org/t/p/w500/${movie.poster_path || movie.backdrop_path}" class="movie-poster" alt="${movie.title}">
                    <div class="movie-info">
                        <h3 class="movie-title">${movie.title}</h3>
                        <div class="movie-meta">
                            <span>${movie.release_date ? new Date(movie.release_date).getFullYear() : 'N/A'}</span>
                            <span class="movie-rating">★ ${movie.vote_average ? movie.vote_average.toFixed(1) : 'N/A'}</span>
                        </div>
                    </div>
                    <div class="movie-overlay">
                        <p class="movie-overview">${movie.overview || 'No description available'}</p>
                        <div class="movie-actions">
                            <button class="action-btn" title="Play"><i class="fas fa-play"></i></button>
                            <button class="action-btn" title="More Info"><i class="fas fa-info-circle"></i></button>
                        </div>
                    </div>
                `;
                
                grid.appendChild(movieCard);
            });
            
 
            document.querySelectorAll('.movie-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    if (e.target.closest('.action-btn')) {
                        const movieId = card.dataset.movieId;
                        const actionBtn = e.target.closest('.action-btn');
                        
                        if (actionBtn.querySelector('.fa-play')) {
 
                            playMovie(movieId);
                        } else if (actionBtn.querySelector('.fa-info-circle')) {
 
                            showMovieDetails(movieId);
                        }
                    } else {
 
                        showMovieDetails(card.dataset.movieId);
                    }
                });
            });
        }

 
        async function showMovieDetails(movieId) {
            loadingIndicator.style.display = 'block';
            movieModal.style.display = 'flex';
            
            try {
                const url = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&append_to_response=credits`;
                const response = await fetch(url);
                const data = await response.json();
                
                if (data) {
                    currentMovie = data;
                    
 
                    document.getElementById('modal-backdrop').src = `https://image.tmdb.org/t/p/original/${data.backdrop_path}`;
                    document.getElementById('modal-title').textContent = data.title;
                    document.getElementById('modal-year').textContent = data.release_date ? new Date(data.release_date).getFullYear() : 'N/A';
                    document.getElementById('modal-rating').textContent = `★ ${data.vote_average ? data.vote_average.toFixed(1) : 'N/A'}/10`;
                    document.getElementById('modal-runtime').textContent = data.runtime ? `${data.runtime} min` : 'N/A';
                    document.getElementById('modal-overview').textContent = data.overview || 'No description available';
                    
 
                    const castGrid = document.getElementById('cast-grid');
                    castGrid.innerHTML = '';
                    
                    if (data.credits && data.credits.cast && data.credits.cast.length > 0) {
                        data.credits.cast.slice(0, 6).forEach(actor => {
                            const castMember = document.createElement('div');
                            castMember.className = 'cast-member';
                            
                            castMember.innerHTML = `
                                <img src="${actor.profile_path ? `https://image.tmdb.org/t/p/w200/${actor.profile_path}` : 'https://via.placeholder.com/200x200/141414/e5e5e5?text=No+Image'}" class="cast-photo" alt="${actor.name}">
                                <p class="cast-name">${actor.name}</p>
                            `;
                            
                            castGrid.appendChild(castMember);
                        });
                    }
                    
 
                    updateAddToListButton();
                }
            } catch (error) {
                console.error('Error fetching movie details:', error);
            } finally {
                loadingIndicator.style.display = 'none';
            }
        }

 
        function playMovie(movieId) {

            alert(`Playing movie with ID: ${movieId}`);
        }


        function toggleMyList() {
            if (!currentMovie) return;
            
            const exists = myList.find(movie => movie.id === currentMovie.id);
            
            if (exists) {
                myList = myList.filter(movie => movie.id !== currentMovie.id);
                localStorage.setItem('myList', JSON.stringify(myList));
            } else {
                myList.push({
                    id: currentMovie.id,
                    title: currentMovie.title,
                    poster_path: currentMovie.poster_path,
                    backdrop_path: currentMovie.backdrop_path
                });
                localStorage.setItem('myList', JSON.stringify(myList));
            }
            
            updateAddToListButton();
        }

 
        function updateAddToListButton() {
            if (!currentMovie) return;
            
            const exists = myList.find(movie => movie.id === currentMovie.id);
            modalAddBtn.innerHTML = exists ? 
                '<i class="fas fa-check"></i> In Your List' : 
                '<i class="fas fa-plus"></i> Add to List';
        }


        async function initializePage() {

            await fetchFeaturedMovie();
            await fetchMovies('trending', 'trending-movies');
            await fetchMovies('popular', 'popular-movies');
            await fetchMovies('new', 'new-releases');
            await fetchMovies('top', 'top-rated');
            

            modalClose.addEventListener('click', () => {
                movieModal.style.display = 'none';
            });
            
            modalWatchBtn.addEventListener('click', () => {
                if (currentMovie) {
                    playMovie(currentMovie.id);
                }
            });
            
            modalAddBtn.addEventListener('click', toggleMyList);
            
            watchBtn.addEventListener('click', () => {
                if (currentMovie) {
                    playMovie(currentMovie.id);
                }
            });
            
            infoBtn.addEventListener('click', () => {
                if (currentMovie) {
                    showMovieDetails(currentMovie.id);
                }
            });
            

            movieModal.addEventListener('click', (e) => {
                if (e.target === movieModal) {
                    movieModal.style.display = 'none';
                }
            });
            
 
            window.addEventListener('scroll', () => {
                if (window.scrollY > 100) {
                    document.getElementById('navbar').classList.add('nav-scrolled');
                } else {
                    document.getElementById('navbar').classList.remove('nav-scrolled');
                }
            });
        }

 
        initializePage();
    </script>
</body>
</html>
